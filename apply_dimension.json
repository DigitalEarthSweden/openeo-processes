{
    "id": "apply_dimension",
    "summary": "Applies a process to pixels along a dimension",
    "description": "Applies a process to all pixel values along a dimension of a raster data cube. For example, if the temporal dimension is specified the process will work on a time series of pixel values.\n\nBy default, the dimension is replaced with a dimension of the same type. The dimension will result in as many enumerated dimension labels as array elements are available afterwards. Enumerated dimension labels start from zero.\n\nThe process ``reduce()`` also applies a process to pixel values along a dimension, but removes the dimension afterwards. The process ``apply()`` applies a process to all pixel values in the data cube.",
    "categories": [
        "cubes"
    ],
    "parameter_order": [
        "data",
        "process",
        "dimension",
        "target_dimension"
    ],
    "parameters": {
        "data": {
            "description": "A data cube.",
            "schema": {
                "type": "object",
                "subtype": "raster-cube"
            },
            "required": true
        },
        "process": {
            "description": "Process to be applied on each dimension. The specified process needs to accept an array as parameter and must return an array with least one element. A process may consist of multiple sub-processes.",
            "schema": {
                "type": "object",
                "subtype": "process-graph",
                "parameters": {
                    "data": {
                        "description": "An array with elements of any data type.",
                        "type": "array",
                        "items": {
                            "description": "Any data type."
                        }
                    }
                }
            },
            "required": true
        },
        "dimension": {
            "description": "The name of the dimension to apply the process on. Fails with a `DimensionNotAvailable` error if the specified dimension does not exist.",
            "schema": {
                "type": "string"
            },
            "required": true
        },
        "target_dimension": {
            "description": "The name of the target dimension or `null` to replace the dimension specified in `dimension` (default).\n\nIf a target dimension is specified, a new dimension with the specified name and the type `other` (see ``add_dimension()``) is created. If a dimension with the specified name exists, the dimension is replaced, but keeps the original type.\n\nThe resulting target dimension has as many dimension labels as the array returned by the process has values. For example, a process returning an array with four elements results in a dimension with four labels.",
            "schema": {
                "type": [
                    "string",
                    "null"
                ]
            },
            "default": null
        }
    },
    "returns": {
        "description": "A data cube with the newly computed values for the specified . The resolution, cardinality and the number of dimensions are the same as for the original data cube.",
        "schema": {
            "type": "object",
            "subtype": "raster-cube"
        }
    },
    "exceptions": {
        "DimensionNotAvailable": {
            "message": "A dimension with the specified name does not exist."
        }
    }
}